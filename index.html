  <!DOCTYPE html>
  <html>
      <head>
          <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

          <link rel="stylesheet" type="text/css" href="style.css">
      </head>
      <body>
  	

  	 <div class="container">
  	 	<div class="jumbotron">
    			<h1>Soul Train Express</h1>
    				<p>Hope aboard and travel the world</p>
  		</div>
      	<div class="row">
        		<div class="col-md-12">
  		<div class="panel panel-default">
    			<div class="panel-heading">
     			 <h3 class="panel-title">Current Train Schedule</h3>
  				<table class="table table-striped" id ="trainTable">
  				  <thead>
  				    <tr>
  				      <th>Train Name</th>
  				      <th>Destination</th>
  				      <th>Frequency(min)</th>
  				      <th>Next Arrival</th>
  				      <th>Minutes Away</th>
  				    </tr>
  				  </thead>
  				  <tbody class="trainSchedule">
  				   <!--  <tr>
  				      <td>Mark</td>
  				      <td>Otto</td>
  				      <td>@mdo</td>
  				      <td>@mdo</td>
                <td>@mdo</td>
  				    </tr>
  				    <tr>
  				      <td>Jacob</td>
  				      <td>Thornton</td>
  				      <td>@fat</td>
  				      <td>@mdo</td>
                <td>@mdo</td>
  				    </tr>
  				    <tr>
  				      <td>Larry</td>
  				      <td>the Bird</td>
  				      <td>@twitter</td>
  				      <td>@mdo</td>
                <td>@mdo</td>
  				    </tr> -->
  				  </tbody>
  				</table>
    		</div>
   		<!--  <div class="panel-body">
      	<p>Panel content</p>
   		 </div> -->
  	</div>
       	 </div>
      	</div>

      	    	<div class="row">
        		<div class="col-md-12">
  		<div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title">Add Train</h3>
    </div>
    <div class="panel-body">

    <form id ="addTrainForm">
    <div class="form-group row">
    <label for="trainName-input" class="col-2 col-form-label">Train Name</label>
    <div class="col-10">
      <input class="form-control" type="text"  id="trainName-input">
    </div>
  </div>

   <div class="form-group row">
    <label for="destination-input" class="col-2 col-form-label">Destination</label>
    <div class="col-10">
      <input class="form-control" type="text" id="destination-input">
    </div>
  </div>

  <div class="form-group row">
    <label for="first-train-input" class="col-2 col-form-label">First Train Time (HH:mm - military time)</label>
    <div class="col-10">
      <input class="form-control" type="time" id="firstTrain-input">
    </div>
  </div>

  <div class="form-group row">
    <label for="frequency-input" class="col-2 col-form-label">Frequency (min)</label>
    <div class="col-10">
      <input class="form-control" type="time"  id="frequency-input">
    </div>
  </div>  
  <button type="submit" class="btn btn-default" id="submit-button">Submit</button>
  </form>
      
    </div>
  </div> 
       	 </div>
      	</div>


      </div>
<!-- Firebase  JavaScript Link -->
 <script src="https://www.gstatic.com/firebasejs/live/3.0/firebase.js"></script>

 <!-- jQuery Script Link -->
   <script src="https://code.jquery.com/jquery.js"></script>

<!-- Moment JavaScript Link -->
  <script src="https://cdn.jsdelivr.net/momentjs/2.12.0/moment.min.js"></script>

<!-- JavaScript/FireBase -->
  <script>
     
   // Initialize Firebase
  var config = {
    apiKey: "AIzaSyD9stvNwuJylhixbZ6mPDlhz-VSAyjCJ3A",
    authDomain: "soultrainexpress-10240.firebaseapp.com",
    databaseURL: "https://soultrainexpress-10240.firebaseio.com/",
    projectId: "soultrainexpress-10240",
    storageBucket: "soultrainexpress-10240.appspot.com",
    messagingSenderId: "227813157597"
  };

  firebase.initializeApp(config);

   var database = firebase.database();
    // Initial Values
    var trainName = "";
    var destination = "";
    var firstTrainName = "";
    var frequency = "";

       // On Click Submit Button
    $("#submit-button").on("click", function(event) {
      event.preventDefault();
      // Grabbed values from text boxes
      trainName = $("#trainName-input").val().trim();
      destination = $("#destination-input").val().trim();
      firstTrainName = $("#firstTrain-input").val().trim();
      frequency = $("#frequency-input").val().trim();
      // Code for handling the push
      
      database.ref().push({
        trainName: trainName,
        destination: destination,
        firstTrainName: firstTrainName,
        frequency: frequency,
        dateAdded: firebase.database.ServerValue.TIMESTAMP

      });
    });

          // Firebase watcher + initial loader HINT: This code behaves similarly to .on("value")
    database.ref().on("child_added", function(childSnapshot) {
      // Log everything that's coming out of snapshot
      console.log(childSnapshot.val().trainName);
      console.log(childSnapshot.val().destination);
      console.log(childSnapshot.val().firstTrainName);
      console.log(childSnapshot.val().frequency);
      console.log(childSnapshot.val().dateAdded);
    
      // 
      $(".trainSchedule").append("<tr><td>" + childSnapshot.val().trainName + "</td><td>" + childSnapshot.val().destination  + "</td><td>" + childSnapshot.val().firstTrainName + "</td><td>" + childSnapshot.val().frequency  + "</td><td>" + childSnapshot.val().dateAdded  + "</td></tr>"
       );
  });  // }, function(errorObject) {
  //     console.log("Errors handled: " + errorObject.code);
  //   });
  //   dataRef.ref().orderByChild("dateAdded").limitToLast(1).on("child_added", function(snapshot) {
  //     // Change the HTML to reflect
  //     $("#name-display").html(snapshot.val().name);
  //     $("#email-display").html(snapshot.val().email);
  //     $("#age-display").html(snapshot.val().age);
  //     $("#comment-display").html(snapshot.val().comment);
  //   });

  </script>

      
      </body>
  </html>
